{{ define "repos_list_page" }}
  {{ template "layout" . }}
{{ end }}

{{ define "content" }}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h1 class="h3 mb-0">Known repositories</h1>
    <div class="text-muted small">Repositories appear after at least one snapshot was collected.</div>
  </div>
  <a class="btn btn-outline-secondary" href="/targets">Targets</a>
</div>

{{ if .Repos }}
<div class="list-group">
  {{ range .Repos }}
    <a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
       href="/repo?repo_id={{ .ID }}">
      <span class="fw-semibold">{{ .Namespace }}/{{ .Name }}</span>
      <span class="badge text-bg-light">ID {{ .ID }}</span>
    </a>
  {{ end }}
</div>
{{ else }}
  <div class="alert alert-info">
    <div class="fw-semibold mb-1">No repositories yet.</div>
    <div class="mb-2">
      Create a target and wait for the first poll cycle. Repositories will appear here after the first snapshot is collected.
    </div>
    <a class="btn btn-sm btn-primary" href="/targets/new">Create target</a>
    <a class="btn btn-sm btn-outline-secondary ms-2" href="/targets">View targets</a>
  </div>
{{ end }}

{{ end }}
